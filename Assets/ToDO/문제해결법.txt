1/27 Boss타격 관련 버그 - 미해결


1. Unity 물리 이벤트 큐에 남아 있던 충돌 이벤트를 안전하게 무시할 시간을 확보하여 버그 수정

유니티가 내부적으로 충돌 이벤트를 처리하는 타이밍”**과 **“코드에서 해시셋을 비우는 타이밍”**이 어긋나면서 생기는 문제

해시셋을 비웠는데도, 유니티가 이미 큐에 쌓아둔 옛날 충돌 정보를 뒤늦게 꺼내서 OnTriggerEnter를 호출할 수 있습니다.

""레이스 컨디션" 혹은 "이벤트 큐 타이밍""

큐는 선입선출. 만약 충돌이 5번일어났고 4번째에 클리어됐단거고 마지막에 일어난 충돌이 큐에 그대로 남아있고 이땐 허공에 휘둘러도 해시셋 들어가기전 큐에 남아있기에 클리어 되도 의미없고 충돌되자마자 버리지않은 쓰레기가 쓰레기통(해시셋)에 들어갔다.
따라서 bool타입으로 0.1초간 쓰레기통문을 닫아 기존 큐에 남아있는 쓰레기통으로 못들어오고 사라짐

해결하며 얻은 추가 개념

물리 충돌을 FixedUpdate에서 처리하는 이유:

물리 연산은 일정한 간격으로 계산되어야 정확성이 보장됨
프레임 레이트가 불안정할 때도 일관된 물리 연산이 가능
예측 가능한 결과를 얻을 수 있음

카메라를 LateUpdate에서 처리하는 이유:

모든 오브젝트의 Update가 끝난 후 카메라가 움직여야 함
캐릭터 움직임을 따라가는 카메라의 경우, 캐릭터 위치가 완전히 업데이트된 후 카메라가 움직여야 자연스러움

이런 실행 순서를 고려하지 않으면 물리 연산이 부정확해지거나, 카메라 움직임이 어색해질 수 있습니다.

--------------------------------------------

2/03 Indicator 쉐이더 겹칠시 렌더링 깨짐 문제 및 캐릭터,몬스터 등 위에 렌더링



ZWrite On: 깊이 버퍼를 활용해서 "앞뒤 관계"를 정리했지만, 같은 깊이에 있는 인디케이터들은 계속 겹쳐서 렌더링
Blend 방식 변경: 색상 합성 방식을 바꿔도 여전히 겹치는 문제를 해결하지 못했음
 Stencil은 "같은 픽셀에 반복적으로 그리는 것 자체"를 막아줬기 때문에 해결

같은 Stencil 값(1)을 가진 픽셀은 다시 그려지지 않게 설정됨
이 덕분에 겹치는 인디케이터들이 서로 덮어씌우는 현상이 사라짐

Always가 깊이를 생각 하지 않고 렌더링 > ZTest LEqual로 변경 → 지면보다 위에 있는 물체에는 렌더링되지 않음.


------------------------------------------


2/09 bossMultiAttack 관련 오류 - 기존 전략을 개인으로 주입하면 문제가 없으나 멀티 컨테이너에 넣고 하면 문제가 발생

이유 : 기존 생각으론 각각 전략이 쿨타임을 관리하기에 보스멀티는 선택된 전략에서 알아서 할꺼라 생각 했으나, AttackState에선 BossMulti의 선택된 전략이기에 BossMulit자체의 쿨타임 동기화가 필요했음.

2/11 비슷한 이유로 페이즈 변환 시 BTree에 있는 CombatDecision의 전략들이 바뀌지 않는것도 한몫함. 이벤트로 구독하여 변환을 알리고 변환시 재할당. 추후 이벤트 구독해제는 모아서 할 예정