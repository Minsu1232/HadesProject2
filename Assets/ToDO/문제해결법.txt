1/27 Boss타격 관련 버그


1. Unity 물리 이벤트 큐에 남아 있던 충돌 이벤트를 안전하게 무시할 시간을 확보하여 버그 수정

유니티가 내부적으로 충돌 이벤트를 처리하는 타이밍”**과 **“코드에서 해시셋을 비우는 타이밍”**이 어긋나면서 생기는 문제

해시셋을 비웠는데도, 유니티가 이미 큐에 쌓아둔 옛날 충돌 정보를 뒤늦게 꺼내서 OnTriggerEnter를 호출할 수 있습니다.

""레이스 컨디션" 혹은 "이벤트 큐 타이밍""

큐는 선입선출. 만약 충돌이 5번일어났고 4번째에 클리어됐단거고 마지막에 일어난 충돌이 큐에 그대로 남아있고 이땐 허공에 휘둘러도 해시셋 들어가기전 큐에 남아있기에 클리어 되도 의미없고 충돌되자마자 버리지않은 쓰레기가 쓰레기통(해시셋)에 들어갔다.
따라서 bool타입으로 0.1초간 쓰레기통문을 닫아 기존 큐에 남아있는 쓰레기통으로 못들어오고 사라짐

해결하며 얻은 추가 개념

물리 충돌을 FixedUpdate에서 처리하는 이유:

물리 연산은 일정한 간격으로 계산되어야 정확성이 보장됨
프레임 레이트가 불안정할 때도 일관된 물리 연산이 가능
예측 가능한 결과를 얻을 수 있음

카메라를 LateUpdate에서 처리하는 이유:

모든 오브젝트의 Update가 끝난 후 카메라가 움직여야 함
캐릭터 움직임을 따라가는 카메라의 경우, 캐릭터 위치가 완전히 업데이트된 후 카메라가 움직여야 자연스러움

이런 실행 순서를 고려하지 않으면 물리 연산이 부정확해지거나, 카메라 움직임이 어색해질 수 있습니다.